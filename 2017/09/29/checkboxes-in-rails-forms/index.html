	<main role="main">
		 <div class="wrapper">

      <!-- Page Content Holder -->
      <div id="content">
      	<div class="inner-content">
	        <!doctype html>
<html lang="en-US" class="no-js">
	<head>
		<meta charset="UTF-8">
		<title>  Checkboxes in rails forms : &lt; owen codes /&gt;</title>

		<link href="//www.google-analytics.com" rel="dns-prefetch">
        <link href="./../../../../wp-content/themes/sideshow-blog/img/icons/favicon.ico" rel="shortcut icon">
        <link href="./../../../../wp-content/themes/sideshow-blog/img/icons/touch.png" rel="apple-touch-icon-precomposed">

		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="javascript, ruby, and rails">

		<link rel='dns-prefetch' href='//maxcdn.bootstrapcdn.com' />
<link rel='dns-prefetch' href='//cdnjs.cloudflare.com' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":".\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='./../../../../wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' media='all' />
<link rel='stylesheet' id='crayon-theme-prism-like-css'  href='./../../../../wp-content/plugins/crayon-syntax-highlighter/themes/prism-like/prism-like.css?ver=_2.7.2_beta' media='all' />
<link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='./../../../../wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css?ver=_2.7.2_beta' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='./../../../../wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.0.1' media='all' />
<link rel='stylesheet' id='custom-scrollbar-css-css'  href='https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css?ver=4.9.5' media='all' />
<link rel='stylesheet' id='bootstrap-css-css'  href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css?ver=4.9.5' media='all' />
<link rel='stylesheet' id='html5blank-css'  href='./../../../../wp-content/themes/sideshow-blog/style.css?ver=1.0' media='all' />
<script type='text/javascript' src='./../../../../wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='./../../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js?ver=4.9.5'></script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js?ver=4.9.5'></script>
<script type='text/javascript' src='./../../../../wp-content/themes/sideshow-blog/js/sidebar.js?ver=4.9.5'></script>
<script type='text/javascript' src='./../../../../wp-content/themes/sideshow-blog/js/scripts.js?ver=1.0.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='./../../../../wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<link rel='https://api.w.org/' href='./../../../../wp-json/index.html' />
<link rel="alternate" type="application/json+oembed" href="./../../../../wp-json/oembed/1.0/embed/index.html?url=.%2F2017%2F09%2F29%2Fcheckboxes-in-rails-forms%2F" />
<link rel="alternate" type="text/xml+oembed" href="./../../../../wp-json/oembed/1.0/embed/index.html?url=.%2F2017%2F09%2F29%2Fcheckboxes-in-rails-forms%2F&#038;format=xml" />

	</head>
	<body class="post-template-default single single-post postid-219 single-format-standard checkboxes-in-rails-forms">

		<!-- wrapper -->
		<div class="wrapper">

      <!-- navigation hamburger static -->
      <div class="container-fluid fixed-nav">
         <button type="button" id="sidebarCollapse" class="navbar-btn" title="Open Sidebar Navigation">
            <i class="demo-icon icon-menu">&#xf0c9;</i>
        </button>
      </div>

			<!-- header -->
			<header class="header clear" role="banner">

					<!-- logo -->
					<div class="logo">
						<a href="./../../../../index.html">
							<!-- svg logo - toddmotto.com/mastering-svg-use-for-a-retina-web-fallbacks-with-png-script -->
							              &lt; owen codes /&gt;						</a>
					</div>
					<!-- /logo -->

					<!-- nav -->
										<!-- /nav -->

			</header>
			<!-- /header -->

											<div class="post-wrapper">
							<!-- article -->
							<article id="post-219" class="post-219 post type-post status-publish format-standard hentry category-ruby-on-rails">

								<!-- post thumbnail -->
																<!-- /post thumbnail -->

								<!-- post title -->
								<div class="post-title-box">
									<div class="post-metadata">
				        		<span class="date"><i class="demo-icon icon-table">&#xf0ce;</i>September 29, 2017</span>
				            <!-- <span class="date"><i class="demo-icon icon-table">&#xf0ce;</i>March 12, 1998</span><span class="author"><i class="demo-icon icon-user">&#xe801;</i>owen_m</span> -->
				        	</div>
									<h1>
										<a href="./index.html" title="Checkboxes in rails forms"><span class="first-letter">C</span><span class="t2">H</span><span class="t3">E</span><span class="t4">C</span><span class="t1">K</span><span class="t2">B</span><span class="t3">O</span><span class="t4">X</span><span class="t1">E</span><span class="t2">S</span><span class="t3"> </span><span class="first-letter">I</span><span class="t4">N</span><span class="t1"> </span><span class="first-letter">R</span><span class="t2">A</span><span class="t3">I</span><span class="t4">L</span><span class="t1">S</span><span class="t2"> </span><span class="first-letter">F</span><span class="t3">O</span><span class="t4">R</span><span class="t1">M</span><span class="t2">S</span></a>
									</h1>
								</div>
								<!-- /post title -->

								<!-- post details -->
																<!-- /post details -->

								<div class="post-content-box">
									<h4>Selecting M:M relationship items with checkboxes</h4>
<p>In my application, &#8216;posts&#8217; and &#8216;categories&#8217; have a many-to-many relationship.  My <em>post</em> resource already has a model-backed form including &#8216;title&#8217; and &#8216;description&#8217; fields, but i want to add checkboxes for all the available categories.<br />
<span id="more-219"></span></p>
<h5>The model-backed way</h5>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5aff5890ce920916338262" class="crayon-syntax crayon-theme-prism-like crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Ruby</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
&lt;%= form_for @post do |f| &gt;

  &lt;div class='control-group'&gt;
    &lt;%= f.label :title %&gt;
   &lt;%= f.text_field :title %&gt;
  &lt;/div&amp;gt;

  &lt;div class='control-group'&gt;
    &lt;%= f.label :description %&gt;
   &lt;%= f.text_area :description, rows: 5 %&gt;
  &lt;/div&amp;gt;
 
  &lt;div class='control-group'&gt;
    &lt;%= f.label 'Categories' %&gt;
    &lt;%= f.collection_check_boxes :category_ids, Category.all, :id, :name do |cb| %&gt;
      &lt;% cb.label(class: 'checkbox-inline') {cb.check_box(class:'checkbox') + cb.text} %&gt;
    &lt;% end %&gt;
  &lt;/div&amp;gt;

  &lt;%= f.submit(@post.new_record? ? "Create Post" : "Update Post", class: "btn btn-primary") %&gt;
&lt;% end %&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-2">2</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-4">4</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-6">6</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-8">8</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-10">10</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-12">12</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-14">14</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-5aff5890ce920916338262-15">15</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-16">16</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-5aff5890ce920916338262-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-18">18</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce920916338262-20">20</div><div class="crayon-num" data-line="crayon-5aff5890ce920916338262-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aff5890ce920916338262-1"><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">_</span>for<span class="crayon-h"> </span><span class="crayon-v">@post</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">f</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-2">&nbsp;</div><div class="crayon-line" id="crayon-5aff5890ce920916338262-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">'control-group'</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">title</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">text_field</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">title</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-v">&amp;gt</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">'control-group'</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">description</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-10"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">text_area</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">description</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rows</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-v">&amp;gt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-12"><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">'control-group'</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-i">label</span><span class="crayon-h"> </span><span class="crayon-s">'Categories'</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-5aff5890ce920916338262-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">collection_check_boxes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">category_ids</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Category</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">cb</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-5aff5890ce920916338262-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-v">cb</span><span class="crayon-sy">.</span><span class="crayon-e">label</span><span class="crayon-sy">(</span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'checkbox-inline'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k">{</span><span class="crayon-v">cb</span><span class="crayon-sy">.</span><span class="crayon-e">check_box</span><span class="crayon-sy">(</span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-s">'checkbox'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">cb</span><span class="crayon-sy">.</span><span class="crayon-v">text</span><span class="crayon-k">}</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-5aff5890ce920916338262-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-v">&amp;gt</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce920916338262-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">submit</span><span class="crayon-sy">(</span><span class="crayon-v">@post</span><span class="crayon-sy">.</span><span class="crayon-v">new_record</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-s">"Create Post"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Update Post"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"btn btn-primary"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890ce920916338262-21"><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0637 seconds] -->
<p></p>
<p>We are using <em>collection_check_boxes</em> to iterate through the categories (Category.all) and output a label and checkbox for each one. The classes are twitter bootstrap and can be removed.</p>
<p>This form submits parameters in the following format:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5aff5890ce986012074879" class="crayon-syntax crayon-theme-prism-like crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
{"utf8"=&gt;"✓",
 "authenticity_token"=&gt;"oG+9YKJ3U5A+treB0v4DnjROloWG9GIEYRl998lnLUcc=",
 "post"=&gt;
  {"title"=&gt;"hi there",
   "description"=&gt;"a description",
   "category_ids"=&gt;["2", "3"]},
 "commit"=&gt;"Create Post",
 "action"=&gt;"create",
 "controller"=&gt;"posts"}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5aff5890ce986012074879-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce986012074879-2">2</div><div class="crayon-num" data-line="crayon-5aff5890ce986012074879-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce986012074879-4">4</div><div class="crayon-num" data-line="crayon-5aff5890ce986012074879-5">5</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-5aff5890ce986012074879-6">6</div><div class="crayon-num" data-line="crayon-5aff5890ce986012074879-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890ce986012074879-8">8</div><div class="crayon-num" data-line="crayon-5aff5890ce986012074879-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aff5890ce986012074879-1"><span class="crayon-sy">{</span><span class="crayon-s">"utf8"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"✓"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce986012074879-2"><span class="crayon-h"> </span><span class="crayon-s">"authenticity_token"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"oG+9YKJ3U5A+treB0v4DnjROloWG9GIEYRl998lnLUcc="</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5aff5890ce986012074879-3"><span class="crayon-h"> </span><span class="crayon-s">"post"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce986012074879-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-s">"title"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"hi there"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5aff5890ce986012074879-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-s">"description"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"a description"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-5aff5890ce986012074879-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-s">"category_ids"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">[</span><span class="crayon-s">"2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"3"</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5aff5890ce986012074879-7"><span class="crayon-h"> </span><span class="crayon-s">"commit"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"Create Post"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890ce986012074879-8"><span class="crayon-h"> </span><span class="crayon-s">"action"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"create"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5aff5890ce986012074879-9"><span class="crayon-h"> </span><span class="crayon-s">"controller"</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-s">"posts"</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0118 seconds] -->
<p></p>
<p>I&#8217;ve set up the form so that the virtual attribute <em>category_ids</em> is in the <em>post</em> parameter, with an array of ids as its value.</p>
<p><em>category_ids</em> can be used to quickly set a bunch of many-to-many relationships at once, like so:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5aff5890ce9be322542438" class="crayon-syntax crayon-theme-prism-like crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Ruby</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
@post.category_ids = [6, 9, 22, 36]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5aff5890ce9be322542438-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aff5890ce9be322542438-1"><span class="crayon-v">@post</span><span class="crayon-sy">.</span><span class="crayon-v">category_ids</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">6</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">22</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">36</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0049 seconds] -->
<p></p>
<p>Note that any existing relationships will be deleted, so that ONLY the ones specified by id will remain!</p>
<p>We still have to allow <em>category_ids</em> in strong parameters to submit the form. Because <em>category_ids</em> will be an array, special formatting is needed:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5aff5890ce9e4791787935" class="crayon-syntax crayon-theme-prism-like crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Ruby</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
params.require(:post).permit(:title, :description, category_ids: [])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5aff5890ce9e4791787935-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aff5890ce9e4791787935-1"><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">permit</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-v">title</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">description</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">category_ids</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0127 seconds] -->
<p></p>
<h5>The Non-Model-Backed way</h5>
<p>Within the model-backed form, we could use a regular form helpers to get the same effect&#8230;</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5aff5890cea07465086738" class="crayon-syntax crayon-theme-prism-like crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Ruby</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
&lt;%= form_for @post do |f| %&gt;

  &lt;div class="control-group"&gt;
    &lt;%= f.label :title %&gt;
    &lt;%= f.text_field :title %&gt;
  &lt;/div&gt;

  &lt;div class="control-group"&gt;
    &lt;%= f.label :description %&gt;
    &lt;%= f.text_area :description, rows: 5 %&gt;
  &lt;/div&gt; 

  &lt;div class="control-group"&gt;
    &lt;% Category.all.each do |cat| %&gt;
      &lt;% isChecked = !!@post.category_ids.include?(cat.id) %&gt;
      &lt;%= label_tag("category_#{cat.id}", cat.name, class: "checkbox-inline") do %&gt;
        &lt;%= check_box_tag('post[category_ids][]', cat.id, isChecked, class: "checkbox", :id =&gt; "category_#{cat.id}") %&gt;
        &lt;%= cat.name %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
  &lt;/div&gt;

  &lt;%= f.submit(@post.new_record? ? "Create Post" : "Update Post", class: "btn btn-primary") %&gt;
&lt;% end %&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-2">2</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-4">4</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-6">6</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-8">8</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-10">10</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-12">12</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-13">13</div><div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="crayon-5aff5890cea07465086738-14">14</div><div class="crayon-num crayon-marked-num" data-line="crayon-5aff5890cea07465086738-15">15</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-16">16</div><div class="crayon-num crayon-marked-num" data-line="crayon-5aff5890cea07465086738-17">17</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-18">18</div><div class="crayon-num crayon-marked-num" data-line="crayon-5aff5890cea07465086738-19">19</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-5aff5890cea07465086738-20">20</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-22">22</div><div class="crayon-num" data-line="crayon-5aff5890cea07465086738-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aff5890cea07465086738-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aff5890cea07465086738-1"><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">_</span>for<span class="crayon-h"> </span><span class="crayon-v">@post</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">f</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-2">&nbsp;</div><div class="crayon-line" id="crayon-5aff5890cea07465086738-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">"control-group"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">title</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890cea07465086738-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">text_field</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">title</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5aff5890cea07465086738-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">"control-group"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5aff5890cea07465086738-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">description</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">text_area</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">description</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rows</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890cea07465086738-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-12">&nbsp;</div><div class="crayon-line" id="crayon-5aff5890cea07465086738-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">div</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">=</span><span class="crayon-s">"control-group"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-5aff5890cea07465086738-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-v">Category</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-i">each</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">cat</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-5aff5890cea07465086738-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-v">isChecked</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-o">!</span><span class="crayon-v">@post</span><span class="crayon-sy">.</span><span class="crayon-v">category_ids</span><span class="crayon-sy">.</span><span class="crayon-v">include</span><span class="crayon-sy">?</span><span class="crayon-sy">(</span><span class="crayon-v">cat</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-5aff5890cea07465086738-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-e">label_tag</span><span class="crayon-sy">(</span><span class="crayon-s">"category_#{cat.id}"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"checkbox-inline"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-5aff5890cea07465086738-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-e">check_box_tag</span><span class="crayon-sy">(</span><span class="crayon-s">'post[category_ids][]'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isChecked</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"checkbox"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-s">"category_#{cat.id}"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-5aff5890cea07465086738-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-5aff5890cea07465086738-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-5aff5890cea07465086738-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line" id="crayon-5aff5890cea07465086738-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-22">&nbsp;</div><div class="crayon-line" id="crayon-5aff5890cea07465086738-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;%=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">submit</span><span class="crayon-sy">(</span><span class="crayon-v">@post</span><span class="crayon-sy">.</span><span class="crayon-v">new_record</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-s">"Create Post"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Update Post"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">class</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"btn btn-primary"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aff5890cea07465086738-24"><span class="crayon-ta">&lt;%</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-ta">%&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0687 seconds] -->
<p></p>
<p>This syntax may be easier to understand if you aren&#8217;t used to <em>collection_check_boxes</em>, which has a pretty weird syntax. Otherwise, the solutions are equivalent.</p>
<p>Line 15 uses the <em>@post.category_ids</em> getter method to see if we should check this box. This works correctly even if @post has not been saved to the db, so the checkboxes work well on new, edit, or validation error pages.</p>
<p>Note on line 17 you have to use a name with brackets, like &#8216;options[]&#8217; to create a single name that will store an array of values.</p>
<p>The name <em>post[category_ids][]</em> gives us an array called <em>category_ids</em> inside the post parameter, which is the format we need.</p>
<p>I made this so that the checkboxes would be surrounded by &#8216;label&#8217; tags&#8230; only because that was the output of the first example and i wanted to duplicate it. When you use label that way, you have to actually put the label text in the do block, it wont automatically output the name you assigned within the label tag. (see line 18)</p>
<p>Good luck!</p>
									<div class="meta">
										
										<p>Categorised in: <a href="./../../../../category/ruby-on-rails/index.html" rel="tag">ruby-on-rails</a></p>

										
																			</div>

								</div>
							</article>
							<!-- /article -->
							<div class="comments">
	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="./index.html#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="./../../../../wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" aria-required="true"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='219' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p>			</form>
			</div><!-- #respond -->
	
</div>


						</div><!-- end post wrapper -->

					
													<!-- footer -->
			<footer class="footer" role="contentinfo">

				<!-- copyright -->
				
				<div class="copyright">
					&copy; 2018 Copyright owencodes ~~~ chiseled by hand from a block of pure  
					<a href="//wordpress.org" title="WordPress">WordPress</a> &amp; <a href="//html5blank.com" title="HTML5 Blank">HTML5 Blank</a>.
				</div>
				<!-- /copyright -->

			</footer>
			<!-- /footer -->

		</div>
		<!-- /wrapper -->

		<script type='text/javascript' src='./../../../../wp-includes/js/comment-reply.min.js?ver=4.9.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":".\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='./../../../../wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=5.0.1'></script>
<script type='text/javascript' src='./../../../../wp-includes/js/wp-embed.min.js?ver=4.9.5'></script>

		<!-- analytics -->
		<script>
		(function(f,i,r,e,s,h,l){i['GoogleAnalyticsObject']=s;f[s]=f[s]||function(){
		(f[s].q=f[s].q||[]).push(arguments)},f[s].l=1*new Date();h=i.createElement(r),
		l=i.getElementsByTagName(r)[0];h.async=1;h.src=e;l.parentNode.insertBefore(h,l)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-XXXXXXXX-XX', 'yourdomain.com');
		ga('send', 'pageview');
		</script>

	</body>
</html>
      	</div><!-- end inner content -->
      </div><!-- end content -->
    </div>
	</main>

<!-- sidebar -->
<aside id="sidebar" class="sidebar" role="complementary">

  <div id="dismiss">
      <i class="demo-icon icon-left" title="Close Sidebar">&#xe800;</i>
  </div>

	<div class="sidebar-widget">
    <section id="search-3" class="widget widget_search"><!-- search -->
<form class="search" method="get" action="./../../../../index.html" role="search">
  <div class="form-group">
  	<input class="search-input form-control" type="search" name="s" placeholder="Search">
  	  </div>
</form>
<!-- /search -->
</section>		<section id="recent-posts-3" class="widget widget_recent_entries">		<h3>Recent Posts</h3>		<ul>
											<li>
					<a href="./../../../../2018/05/06/how-to-migrate-a-local-wordpress-installation-to-cloud9/index.html">How to Migrate a Local WordPress Installation to Cloud9</a>
									</li>
											<li>
					<a href="./../../../../2018/03/24/3-functions-i-rewrite-most-often-in-javascript/index.html">3 Functions I Rewrite Most Often in Javascript</a>
									</li>
											<li>
					<a href="./../../../../2018/03/21/lodash-use-only-what-you-want/index.html">Lodash &#8211; Use Only What You Want</a>
									</li>
											<li>
					<a href="./../../../../2018/01/29/craigslist-scammers-are-scammy/index.html">Craigslist scammers are scammy</a>
									</li>
											<li>
					<a href="./index.html">Checkboxes in rails forms</a>
									</li>
					</ul>
		</section><section id="pages-2" class="widget widget_pages"><h3>Info</h3>		<ul>
			<li class="page_item page-item-351"><a href="./../../../../about-the-author/index.html">About the author</a></li>
		</ul>
		</section><section id="archives-2" class="widget widget_archive"><h3>Archives</h3>		<ul>
			<li><a href='./../../../../2018/05/index.html'>May 2018</a></li>
	<li><a href='./../../../../2018/03/index.html'>March 2018</a></li>
	<li><a href='./../../../../2018/01/index.html'>January 2018</a></li>
	<li><a href='./../../index.html'>September 2017</a></li>
	<li><a href='./../../../08/index.html'>August 2017</a></li>
	<li><a href='./../../../06/index.html'>June 2017</a></li>
	<li><a href='./../../../05/index.html'>May 2017</a></li>
		</ul>
		</section><section id="categories-3" class="widget widget_categories"><h3>Categories</h3>		<ul>
	<li class="cat-item cat-item-4"><a href="./../../../../category/javascript/index.html" >javascript</a>
</li>
	<li class="cat-item cat-item-6"><a href="./../../../../category/ruby-on-rails/index.html" >ruby-on-rails</a>
</li>
	<li class="cat-item cat-item-1"><a href="./../../../../category/uncategorized/index.html" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-10"><a href="./../../../../category/wordpress/index.html" >wordpress</a>
</li>
		</ul>
</section>  </div><!-- #secondary -->

  <div class="height-spacer"></div>

</aside>
<!-- /sidebar -->
